<div class="highlight"><pre><span class="c1">## correct &quot;trick&quot; obj</span>
t1 <span class="o">&lt;-</span> new<span class="p">(</span><span class="s">&#39;trick&#39;</span><span class="p">,</span> id <span class="o">=</span> <span class="kc">letters</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">],</span> time <span class="o">=</span> <span class="kt">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">9</span><span class="p">,</span> ncol <span class="o">=</span> <span class="m">3</span><span class="p">))</span>
<span class="c1">## not validated &quot;trick&quot; obj</span>
t2 <span class="o">&lt;-</span> t1
t2<span class="o">@</span>id <span class="o">&lt;-</span> <span class="kc">letters</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">]</span>
<span class="c1">## return FALSE</span>
validObject<span class="p">(</span>t2<span class="p">)</span>
<span class="c1">## error</span>
<span class="kp">try</span><span class="p">(</span>new<span class="p">(</span><span class="s">&#39;trick&#39;</span><span class="p">,</span> id <span class="o">=</span> <span class="kc">letters</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">],</span> time <span class="o">=</span> <span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">))</span>
<span class="kp">try</span><span class="p">(</span>new<span class="p">(</span><span class="s">&#39;trick&#39;</span><span class="p">,</span> id <span class="o">=</span> <span class="kc">letters</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">],</span> time <span class="o">=</span> <span class="kt">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">8</span><span class="p">,</span> ncol <span class="o">=</span> <span class="m">4</span><span class="p">)))</span>

<span class="c1">## correct &quot;trickNum&quot; obj</span>
tn1 <span class="o">&lt;-</span> new<span class="p">(</span><span class="s">&#39;trickNum&#39;</span><span class="p">,</span> id <span class="o">=</span> <span class="kc">letters</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">],</span> time <span class="o">=</span> <span class="kt">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">9</span><span class="p">,</span> ncol <span class="o">=</span> <span class="m">3</span><span class="p">),</span> number <span class="o">=</span> <span class="m">5</span><span class="o">:</span><span class="m">6</span><span class="p">)</span>
<span class="c1">## error because can not pass &quot;trick&quot; validate</span>
<span class="kp">try</span><span class="p">(</span>new<span class="p">(</span><span class="s">&#39;trickNum&#39;</span><span class="p">,</span> id <span class="o">=</span> <span class="kc">letters</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">],</span> time <span class="o">=</span> <span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">,</span> number <span class="o">=</span> <span class="m">5</span><span class="o">:</span><span class="m">6</span><span class="p">))</span>
<span class="kp">try</span><span class="p">(</span>new<span class="p">(</span><span class="s">&#39;trickNum&#39;</span><span class="p">,</span> id <span class="o">=</span> <span class="kc">letters</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">],</span> time <span class="o">=</span> <span class="kt">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">8</span><span class="p">,</span> ncol <span class="o">=</span> <span class="m">4</span><span class="p">),</span> number <span class="o">=</span> <span class="m">5</span><span class="o">:</span><span class="m">6</span><span class="p">))</span>

<span class="c1">## error</span>
<span class="kp">try</span><span class="p">(</span>new<span class="p">(</span><span class="s">&#39;trickMult&#39;</span><span class="p">,</span> trick1 <span class="o">=</span> new<span class="p">(</span><span class="s">&#39;trick&#39;</span><span class="p">,</span> id <span class="o">=</span> <span class="kc">letters</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">],</span> time <span class="o">=</span> <span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">)))</span>
<span class="kp">try</span><span class="p">(</span>new<span class="p">(</span><span class="s">&#39;trickMult&#39;</span><span class="p">,</span> trick1 <span class="o">=</span> new<span class="p">(</span><span class="s">&#39;trick&#39;</span><span class="p">,</span> id <span class="o">=</span> <span class="kc">letters</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">],</span> time <span class="o">=</span> <span class="kt">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">8</span><span class="p">,</span> ncol <span class="o">=</span> <span class="m">4</span><span class="p">))))</span>

tm1 <span class="o">&lt;-</span> new<span class="p">(</span><span class="s">&#39;trickMult&#39;</span><span class="p">,</span> trick1 <span class="o">=</span> t2<span class="p">)</span>
<span class="c1">## return TRUE</span>
validObject<span class="p">(</span>tm1<span class="p">)</span>
<span class="c1">## return FALSE</span>
validObject<span class="p">(</span>tm1<span class="p">,</span> complete <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</pre></div>