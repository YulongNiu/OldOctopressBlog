<div class="highlight"><pre><span class="cp">#include &lt;Rcpp.h&gt;</span>
<span class="cp">#include &amp;lt;gperftools/profiler.h&amp;gt;&lt;/Rcpp.h&gt;&lt;/p&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">Rcpp</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="c1">// [[Rcpp::export]]</span>
<span class="n">SEXP</span> <span class="n">start_profiler</span><span class="p">(</span><span class="n">SEXP</span> <span class="n">str</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">ProfilerStart</span><span class="p">(</span><span class="n">as</span><span class="o">&amp;</span><span class="n">lt</span><span class="p">;</span><span class="k">const</span> <span class="kt">char</span><span class="o">*&amp;</span><span class="n">gt</span><span class="p">;(</span><span class="n">str</span><span class="p">));</span>
  <span class="k">return</span> <span class="n">R_NilValue</span><span class="p">;</span>
<span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="c1">// [[Rcpp::export]]</span>
<span class="n">SEXP</span> <span class="n">stop_profiler</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">ProfilerStop</span><span class="p">();</span>
  <span class="k">return</span> <span class="n">R_NilValue</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>